# Интеграция Cursor с ClickUp

Краткая инструкция по двухсторонней работе Cursor ↔ ClickUp через официальный MCP-сервер ClickUp.

---

## Что уже сделано

В `.cursor/mcp.json` добавлен сервер ClickUp:

```json
"clickup": {
  "url": "https://mcp.clickup.com/mcp"
}
```

---

## Как войти в ClickUp и подсоединить его к Cursor (по шагам)

### 1. Перезапустите Cursor

- Закройте Cursor полностью (File → Exit или Alt+F4).
- Запустите Cursor снова (чтобы он подхватил ClickUp из `mcp.json`).

### 2. Откройте настройки MCP

- В Cursor: **File → Preferences → Cursor Settings** (или **Ctrl+,**).
- В левом меню найдите **Features** → **MCP** (или в поиске настроек введите `MCP`).
- В списке MCP-серверов должен появиться **ClickUp**.

### 3. Запустите подключение к ClickUp

Вариант А — через кнопку у сервера:

- В списке MCP найдите **ClickUp**.
- Рядом с ним может быть кнопка **Start Server** / **Connect** или шестерёнка (настройки). Нажмите её и выберите действие вроде «Start» или «Connect».
- Должно открыться окно браузера или ссылка для входа в ClickUp.

Вариант Б — через первый запрос к AI:

- Откройте **Composer** (Ctrl+I или Cmd+I) или обычный чат с AI.
- Напишите, например: **«Покажи мои задачи в ClickUp»** или **«Подключись к ClickUp и покажи списки»**.
- Когда AI попытается обратиться к ClickUp, Cursor может показать запрос на авторизацию или открыть ссылку для входа — перейдите по ней.

### 4. Войдите в ClickUp в браузере

- Откроется страница ClickUp (логин или выбор Workspace).
- Если вы ещё не залогинены в ClickUp — войдите в свой аккаунт (email/пароль или Google и т.п.).
- Выберите **Workspace** (рабочее пространство), к которому даёте доступ Cursor.
- Нажмите кнопку **Connect** / **Разрешить** / **Authorize**.
- После этого окно можно закрыть — связка Cursor ↔ ClickUp уже установлена.

### 5. Проверка

- Снова в Composer или чате напишите: **«Покажи мои задачи в ClickUp»**.
- AI должен получить данные из ClickUp и показать задачи (или списки/проекты).

**Итого:** «Войти в Клик» = войти в аккаунт ClickUp в том окне, которое откроется по ссылке от Cursor. «Подсоединить» = один раз пройти эту авторизацию (OAuth), после чего Cursor будет обращаться к вашему ClickUp без повторного ввода пароля.

---

## Кратко про авторизацию (OAuth)

- Поддерживается **только OAuth** — отдельный API-ключ вводить не нужно.
- Один раз нажимаете **Connect** в окне ClickUp — дальше Cursor сам использует доступ.
- Если доступ отозвали в настройках ClickUp или сменили аккаунт — подключение нужно будет повторить (снова запросить задачи в Composer или нажать Connect в настройках MCP).

---

## Как это работает (схема)

1. Вы пишете в **Composer** (Ctrl+I) или в чат с AI запрос про задачи/проекты/ClickUp.
2. AI понимает, что нужны данные из ClickUp, и вызывает **инструменты MCP** (поиск, создание задачи, обновление и т.д.).
3. Cursor отправляет запрос на сервер ClickUp (`https://mcp.clickup.com/mcp`), тот обращается к **вашему Workspace**, к которому вы уже подключились через OAuth.
4. Ответ возвращается в Cursor, и AI показывает результат в чате (или подтверждает действие: «задача создана», «статус обновлён»).

**Где что настраивается:**

| Где | Что можно делать |
|-----|-------------------|
| **Cursor → Settings → Features → MCP** | Включить/выключить сервер ClickUp, при необходимости отключить — уберите галочку или удалите блок `"clickup"` из `mcp.json`. |
| **ClickUp (при первом подключении)** | Вы выбрали **один Workspace** — с ним и работает Cursor. Чтобы сменить Workspace, нужно отозвать доступ в ClickUp и заново подключиться из Cursor. |
| **ClickUp в браузере** | Списки, папки, теги, статусы, участники — всё как обычно. AI обращается к ним **по названиям** (например, «в списке Content Pipeline», «тег Urgent»). Специальных «настроек для Cursor» в ClickUp нет. |

То есть «настройки» интеграции — это только: какой MCP включён в Cursor и к какому Workspace вы привязались при OAuth. Остальное — обычная работа с задачами и списками в ClickUp, к которым AI обращается по вашим запросам.

---

## Что можно делать (справочник по возможностям MCP)

Ниже — что AI умеет делать с ClickUp через MCP. Просто пишете в Composer то, что нужно; AI сам выберет нужный инструмент.

### Поиск

| Возможность | Пример запроса |
|-------------|-----------------|
| Поиск по всему Workspace (задачи, списки, папки, доки) | «Найди в ClickUp всё про "Q4 Marketing Launch"» |

### Задачи

| Возможность | Пример запроса |
|-------------|-----------------|
| Создать задачу (название, описание, исполнитель, дедлайн, приоритет) | «Создай задачу "Черновик поста в блог" в списке Content Pipeline, назначь на меня, дедлайн в пятницу» |
| Получить детали задачи по ID | «Покажи детали задачи Design-123» |
| Обновить задачу (статус, название, исполнитель, дедлайн, подзадачи) | «Поставь задаче "Черновик поста" статус In Progress и добавь подзадачу "Ревью"» |
| Создать несколько задач сразу | «Добавь в список Onboarding задачи: отправить welcome email, назначить онбординг, выдать оборудование» |
| Обновить несколько задач | «Все задачи в списке Sprint 3 со статусом Ready for Review переведи в In Review» |
| Прикрепить файл к задаче | «Прикрепи этот документ к задаче "Финальный отчёт"» |
| Добавить/убрать тег | «Добавь тег Urgent к задаче "Починить логин"» / «Убери тег Backend с задачи "Обновить кнопку"» |

### Комментарии к задачам

| Возможность | Пример запроса |
|-------------|-----------------|
| Прочитать комментарии | «Что пишут в комментариях к задаче "Разработка фичи"?» |
| Написать комментарий (в т.ч. @упоминания) | «В задаче Design-123 добавь комментарий: @Mark, пришли последние макеты» |

### Учёт времени

| Возможность | Пример запроса |
|-------------|-----------------|
| Показать залогированное время по задаче | «Сколько времени залогировано по задаче "Исследование клиента"?» |
| Запустить таймер по задаче | «Запусти таймер на задачу "Код-ревью"» |
| Остановить таймер | «Останови таймер» |
| Вручную добавить время | «Залогируй 2 часа вчера по задаче "Оптимизация БД"» |
| Узнать, что сейчас на таймере | «Что я сейчас трекаю?» |

### Структура Workspace (Space, Folder, List)

| Возможность | Пример запроса |
|-------------|-----------------|
| Показать иерархию (Space → Folder → List) | «Покажи все списки в Space Engineering» |
| Создать список | «Создай список "Планирование спринта 4" в папке Product» |
| Получить/обновить список | «Какие статусы у списка Bugs?» / «Переименуй список New Ideas в Approved Ideas» |
| Получить/создать/обновить папку | «Что за списки в папке Client Projects?» / «Создай папку Q1 Projects в Space Operations» |

### Участники

| Возможность | Пример запроса |
|-------------|-----------------|
| Список участников Workspace | «Кто в команде Engineering?» |
| Найти участника по имени/email | «Какой user ID у David Smith?» |
| Назначить на задачу (AI сам подставит ID по имени) | «Назначь эту задачу на Mark и Sarah» |

### Чат ClickUp

| Возможность | Пример запроса |
|-------------|-----------------|
| Список каналов | «Покажи все чат-каналы» |
| Отправить сообщение в канал | «В канал General напиши: обед в 13:00» |

### Доки (ClickUp Docs)

| Возможность | Пример запроса |
|-------------|-----------------|
| Создать док | «Создай док "Заметки с кика проекта" в Space Project Phoenix» |
| Оглавление/страницы дока | «Какие страницы в доке Employee Handbook?» |
| Прочитать страницы | «Покажи содержимое страницы Onboarding из дока Team Wiki» |
| Создать/обновить страницу | «В док Company Policies добавь страницу "Протоколы безопасности"» / «На странице "Протоколы безопасности" добавь раздел "Управление паролями"» |

Удаление задач/списков/папок через MCP **не поддерживается** (ограничение ClickUp).

---

## Что можно «связывать» и как настраивать под себя

- **Workspace** уже привязан: при OAuth вы выбрали один Workspace — с ним и работает Cursor. Другой Workspace = отозвать доступ и подключиться заново.
- **Списки, папки, теги** — связывать не нужно. AI обращается к ним по **названиям** в ваших запросах («в списке X», «тег Y»). Главное — называть их в ClickUp так, чтобы вы могли однозначно сказать в чате: «в списке "План на день"», «в папке "Проект Альфа"».
- **Локальные планы (Work/Задачи)** — можно держать «план на день» в `План на ДД.ММ.ГГГГ.md`, а в ClickUp — проектные списки. Связь тогда по смыслу: например, завести в ClickUp список «План на день» и просить AI: «добавь задачи из моего плана на сегодня в список ClickUp "План на день"» или «покажи задачи из списка "План на день" в ClickUp и сверь с моим планом в Work/Задачи».
- **Правило для AI** — в `.cursor/rules` можно добавить правило: при вопросах про задачи проверять и ClickUp (через MCP), и файлы в `Work/Задачи/`, чтобы AI сам предлагал синхронизацию или отчёт по обоим источникам.

Итого: «настраивать» и «связывать» — это выбор Workspace при подключении и ваши названия списков/папок/тегов в ClickUp; отдельного конфига для «связки» Cursor ↔ ClickUp нет, всё идёт через ваши формулировки в Composer.

---

## Двухсторонняя работа (кратко)

| Направление | Как работает |
|-------------|--------------|
| **ClickUp → Cursor** | В чате/Composer просите: «покажи задачи из списка X», «найди задачи по проекту Y» — AI читает данные через MCP. |
| **Cursor → ClickUp** | Просите: «создай задачу в списке Z», «обнови статус», «добавь комментарий», «залогируй время» — AI выполняет через MCP. |

Автоматического «синка» в реальном времени нет: изменения в ClickUp в браузере не подтягиваются в Cursor сами — нужно снова спросить AI. Удаление задач через MCP недоступно (ограничение ClickUp).

---

## Примеры фраз в Cursor

- «Покажи мои задачи в ClickUp на сегодня»
- «Создай в ClickUp задачу "Проверить деплой" в списке [название списка]»
- «Найди в ClickUp задачи со статусом In Progress»
- «Добавь комментарий к задаче [название/ID]: готово к ревью»
- «Обнови приоритет задачи X на срочный»
- «Собери краткий отчёт по задачам за неделю из ClickUp»

---

## Ограничения (на 2024–2025)

- **Удаление** через MCP недоступно (только создание и обновление).
- **OAuth только** — свои API-токены не подставляются.
- Лимиты запросов — общие [лимиты ClickUp API](https://developer.clickup.com/docs/rate-limits).

---

## Полезные ссылки

- [ClickUp MCP — официальная документация](https://developer.clickup.com/docs/connect-an-ai-assistant-to-clickups-mcp-server)
- [Инструкция по настройке MCP в клиентах](https://developer.clickup.com/docs/connect-an-ai-assistant-to-clickups-mcp-server-1)
- [Cursor + ClickUp в каталоге MCP](https://cursor.directory/mcp/clickup)

---

## Двусторонняя синхронизация с локальными файлами

**Настроено:** Полная двусторонняя синхронизация между `Work/Задачи/` и ClickUp с сохранением контекста, комментариев и истории.

### Как это работает

1. **При изменении задачи в локальном файле:**
   - AI автоматически обновляет задачу в ClickUp (если есть `ClickUp ID`)
   - Комментарии из локального файла → комментарии в ClickUp
   - Изменения статуса → обновление статуса в ClickUp

2. **При изменении задачи в ClickUp:**
   - AI может синхронизировать изменения в локальные файлы по запросу
   - Комментарии из ClickUp → раздел "Примечания" в локальном файле
   - Изменения статуса → обновление статуса в локальном файле
   - История изменений сохраняется

3. **Формат связи:**
   - Каждая синхронизированная задача содержит `**ClickUp ID:** \`task_id\`` в локальном файле
   - Это позволяет AI находить соответствующую задачу в ClickUp и синхронизировать изменения

### Автоматическая синхронизация

При начале сессии AI предлагает:
```
"Проверить изменения в ClickUp за последние 24 часа и синхронизировать с локальными файлами?"
```

### Что синхронизируется

- ✅ Название задачи
- ✅ Описание/контекст
- ✅ Статус (выполнено/закрыто)
- ✅ Комментарии/примечания
- ✅ Дедлайн
- ✅ Приоритет
- ✅ Подзадачи
- ✅ История изменений

**Подробности:** См. `.cursor/rules/clickup-sync.mdc` и `Work/Задачи/СИНХРОНИЗАЦИЯ_ПРИМЕР.md`

---

## Связь с вашей системой задач (Work/Задачи)

Структура в ClickUp создана по вашей локальной системе:

| Локальный раздел | Список в ClickUp |
|------------------|------------------|
| АКТУАЛЬНЫЕ_ЗАДАЧИ.md → СЕГОДНЯ | СЕГОДНЯ |
| АКТУАЛЬНЫЕ_ЗАДАЧИ.md → СРОЧНОЕ | СРОЧНОЕ |
| АКТУАЛЬНЫЕ_ЗАДАЧИ.md → ДЕЛЕГИРОВАНО | ДЕЛЕГИРОВАНО |
| АКТУАЛЬНЫЕ_ЗАДАЧИ.md → НУЖНО УТОЧНИТЬ | НУЖНО УТОЧНИТЬ |
| АКТУАЛЬНЫЕ_ЗАДАЧИ.md → ПРОЕКТЫ | ПРОЕКТЫ |
| АКТУАЛЬНЫЕ_ЗАДАЧИ.md → ОЖИДАНИЯ | ОЖИДАНИЯ |
| Когда-нибудь.md | КОГДА-НИБУДЬ |
| Архив задач.md | Архив задач |

**Справочник:** `Work/Задачи/CLICKUP_СООТВЕТСТВИЕ.md`

---
name: config-env-portability
description: All configuration and secrets from .env; single config module; checklist for moving project to another server or account. Use when starting a new project, moving app to VPS/cloud, or when seeing hardcoded keys/paths in code.
---

# Конфиг из .env и переносимость проекта

## Правила

### 1. Один источник конфигурации

- Все секреты и настраиваемые параметры — в **.env** (или в переменных окружения на сервере). В коде — только чтение через `os.getenv(...)` или один модуль (`config.py`), который читает dotenv и экспортирует переменные.
- Никаких паролей, токенов, API key и путей к секретным файлам в коде или в коммитах. `.env` и файлы ключей — в `.gitignore`.

### 2. Чеклист переноса на другой хост/аккаунт

При переносе проекта нужно:
- Скопировать код и **.env** (или заново задать переменные на новом хосте).
- Скопировать или перевыдать: файлы ключей (Service Account JSON и т.д.), при необходимости получить новый refresh token для OAuth.
- Проверить: пути к файлам в .env (на новом сервере путь к JSON часто просто имя файла в каталоге проекта).
- Установить зависимости (`pip install -r requirements.txt` или аналог) и запустить процесс.

### 3. Деплой-скрипт

- Хост, пользователь, пароль/ключ SSH и путь `REMOTE_DIR` задавать из переменных окружения или одного конфига (не хардкод в репозитории). В CI — использовать секреты.

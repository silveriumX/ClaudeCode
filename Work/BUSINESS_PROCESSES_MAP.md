# 🗺️ Карта бизнес-процессов компании (маркетплейсы)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        ЦЕНТР УПРАВЛЕНИЯ (ЕДИНАЯ ТОЧКА ВХОДА)                │
│                                                                             │
│   ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐         │
│   │ FinanceBot │  │PurchaseBot │  │InventoryBot│  │ ContentBot │  ...    │
│   │    ✅      │  │   Закупки  │  │   Склад    │  │  Контент   │         │
│   └────────────┘  └────────────┘  └────────────┘  └────────────┘         │
│                                                                             │
│                        [Google Sheets — Единая база данных]                │
└─────────────────────────────────────────────────────────────────────────────┘
                                     │
                                     ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                            ОСНОВНЫЕ ПРОЦЕССЫ                                │
└─────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────┐     ┌──────────────────────────┐
│   💰 ФИНАНСЫ (✅ DONE)   │────▶│   🛒 ЗАКУПКИ (P0)        │
├──────────────────────────┤     ├──────────────────────────┤
│ • Зарплаты               │     │ • Сырьё                  │
│ • Поставщики             │◀────│ • Упаковка               │
│ • Подрядчики             │     │ • Оборудование           │
│ • Компенсации            │     │ • Расходники             │
│ • RUB / BYN / USDT       │     │ • Согласование бюджета   │
└──────────────────────────┘     └──────────────────────────┘
         │                                  │
         │                                  │
         ▼                                  ▼
┌──────────────────────────┐     ┌──────────────────────────┐
│   📦 СКЛАДСКОЙ УЧЁТ (P0) │────▶│   ❌ СПИСАНИЯ (P2)       │
├──────────────────────────┤     ├──────────────────────────┤
│ • Перемещения            │     │ • Брак                   │
│ • Приёмка товара         │     │ • Потери                 │
│ • Инвентаризация         │     │ • Возвраты               │
│ • Отчёты по остаткам     │     │ • Истечение срока        │
└──────────────────────────┘     └──────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                         МАРКЕТПЛЕЙСЫ И ПРОДАЖИ                              │
└─────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────┐     ┌──────────────────────────┐
│   🛍️ САМОВЫКУПЫ (P1)     │────▶│   🎨 КОНТЕНТ (P1)        │
├──────────────────────────┤     ├──────────────────────────┤
│ • Wildberries            │     │ • Фото товаров           │
│ • Ozon                   │     │ • Видео-обзоры           │
│ • Яндекс Маркет          │     │ • Описания (SEO)         │
│ • Другие площадки        │     │ • Дизайн карточек        │
│ • Поднятие в выдаче      │     │ • Инфографика            │
└──────────────────────────┘     └──────────────────────────┘
         │                                  │
         │                                  │
         ▼                                  ▼
┌──────────────────────────┐     ┌──────────────────────────┐
│   📢 РЕКЛАМА (P2)        │     │   📊 АНАЛИТИКА (P3)      │
├──────────────────────────┤     ├──────────────────────────┤
│ • Яндекс Директ          │     │ • Отчёты по продажам     │
│ • VK Реклама             │     │ • Эффективность рекламы  │
│ • Telegram Ads           │     │ • Остатки на складах     │
│ • Instagram              │     │ • Финансовые показатели  │
│ • Внешний трафик         │     │ • ABC/XYZ анализ         │
└──────────────────────────┘     └──────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                           УПРАВЛЕНИЕ И ПОДДЕРЖКА                            │
└─────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────┐     ┌──────────────────────────┐
│   ✅ ЗАДАЧИ (P2)         │────▶│   👥 HR (P3)             │
├──────────────────────────┤     ├──────────────────────────┤
│ • Поручения              │     │ • Найм сотрудников       │
│ • Дедлайны               │     │ • Отпуска                │
│ • Приоритеты             │     │ • Больничные             │
│ • Зависимости            │     │ • Адаптация              │
└──────────────────────────┘     └──────────────────────────┘
         │                                  │
         │                                  │
         ▼                                  ▼
┌──────────────────────────┐     ┌──────────────────────────┐
│   🆘 ПОДДЕРЖКА (P3)      │     │   📋 ОТЧЁТЫ (P3)         │
├──────────────────────────┤     ├──────────────────────────┤
│ • Вопросы                │     │ • Управленческие         │
│ • Проблемы               │     │ • Операционные           │
│ • Предложения            │     │ • Финансовые             │
│ • База знаний            │     │ • Регулярные / Разовые   │
└──────────────────────────┘     └──────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                               ИНТЕГРАЦИИ                                    │
└─────────────────────────────────────────────────────────────────────────────┘

   PurchaseBot ──────────────────▶ FinanceBot
   (Согласована закупка)         (Автосоздание заявки на оплату)

   InventoryBot ─────────────────▶ WriteOffBot
   (Перемещение на "Списание")   (Списание товара)

   ContentBot ───────────────────▶ FinanceBot
   (Принят контент)              (Оплата исполнителю)

   BuyoutBot ────────────────────▶ FinanceBot
   (Выполнены самовыкупы)        (Оплата исполнителям)

   AdsBot ───────────────────────▶ FinanceBot
   (Запущена кампания)           (Оплата рекламы)

   HiringBot ────────────────────▶ FinanceBot
   (Офер принят)                 (Настройка зарплаты)

   TaskBot ──────────────────────▶ Все боты
   (Любая заявка может создать связанные задачи)

┌─────────────────────────────────────────────────────────────────────────────┐
│                            ЦЕНТРАЛЬНЫЙ ДАШБОРД                              │
└─────────────────────────────────────────────────────────────────────────────┘

   ┌─────────────────────────────────────────────────────────────┐
   │                  Google Sheet: CENTRAL_DASHBOARD             │
   ├─────────────────────────────────────────────────────────────┤
   │                                                              │
   │  📊 Сводка по всем процессам:                               │
   │  • Активные заявки (по ботам)                               │
   │  • Финансовые потоки (доходы/расходы)                       │
   │  • Узкие места (где очередь)                                │
   │  • Топ исполнители                                          │
   │  • Проблемные области                                       │
   │                                                              │
   │  📈 Метрики эффективности:                                  │
   │  • Среднее время обработки заявки                           │
   │  • Процент завершённых заявок                               │
   │  • Количество отмен (и причины)                             │
   │  • Экономия времени (часов/месяц)                           │
   │                                                              │
   └─────────────────────────────────────────────────────────────┘
```

---

## 🔄 ЖИЗНЕННЫЙ ЦИКЛ ЗАЯВКИ (УНИВЕРСАЛЬНЫЙ)

```
┌─────────────┐
│   Создана   │ ◀── Пользователь создаёт заявку через бота
└──────┬──────┘
       │
       ▼
┌─────────────┐
│ Согласование│ ◀── Менеджер проверяет и согласовывает
└──────┬──────┘     (опционально, зависит от процесса)
       │
       ├────▶ ❌ Отклонена (с причиной) → Закрыта
       │
       ▼
┌─────────────┐
│  В работе   │ ◀── Исполнитель взял в работу
└──────┬──────┘
       │
       │      🔄 Может быть несколько циклов:
       ├────▶ На проверке ────▶ Корректировки ──┐
       │                              │           │
       │                              ▼           │
       │                         Принято ◀────────┘
       │
       ▼
┌─────────────┐
│  Завершена  │ ◀── Работа выполнена, результат проверен
└──────┬──────┘
       │
       ├────▶ Интеграция с другими ботами
       │      (если нужно: оплата, создание задач и т.д.)
       │
       ▼
┌─────────────┐
│   Закрыта   │ ◀── Финальный статус (архив)
└─────────────┘

ОТМЕНА возможна на любом этапе (кроме Завершена):
   Любой статус ──────▶ ❌ Отменена → Закрыта
```

---

## 👥 РОЛЕВАЯ МОДЕЛЬ (УНИВЕРСАЛЬНАЯ)

```
┌──────────────────────────────────────────────────────────────┐
│                          OWNER                               │
│  • Полный доступ ко всем ботам                               │
│  • Управление пользователями (добавление/удаление/роли)      │
│  • Просмотр всех данных                                      │
│  • Финальное утверждение критических решений                 │
└───────────────────────────┬──────────────────────────────────┘
                            │
            ┌───────────────┼───────────────┐
            ▼               ▼               ▼
     ┌──────────┐    ┌──────────┐    ┌──────────┐
     │ MANAGER  │    │ EXECUTOR │    │   USER   │
     └──────────┘    └──────────┘    └──────────┘

MANAGER                    EXECUTOR                USER
├─ Создание заявок         ├─ Работа с заявками    ├─ Создание заявок
├─ Просмотр всех          ├─ Только назначенные   ├─ Только свои
├─ Редактирование         ├─ Обновление статуса   ├─ Отмена своих
├─ Согласование           ├─ Комментарии          │  (до согласования)
├─ Назначение             └─ Отчёты о работе      └─ Просмотр статуса
├─ Отчёты
└─ Аналитика

VIEWER (опционально)
├─ Только просмотр
├─ Без возможности создания/редактирования
└─ Для внешних наблюдателей (инвесторы, аудиторы)
```

---

## 🎯 ПРИОРИТИЗАЦИЯ ПО IMPACT × EFFORT

```
      IMPACT
        ↑
   HIGH │
        │
        │  ┌─────────────┐
        │  │ PurchaseBot │ ← P0 (КРИТИЧНО)
        │  │ InventoryBot│
        │  └─────────────┘
        │
 MEDIUM │  ┌──────────────────────────┐
        │  │ ContentBot  │ BuyoutBot  │ ← P1
        │  │ AdsBot                   │
        │  └──────────────────────────┘
        │
   LOW  │  ┌────────────────────────────────┐
        │  │ TaskBot │ WriteOffBot          │ ← P2
        │  │ HiringBot │ SupportBot         │ ← P3
        │  │ ReportsBot                     │
        │  └────────────────────────────────┘
        │
        └────────────────────────────────────▶ EFFORT
          LOW        MEDIUM          HIGH
```

---

## 📦 СТРУКТУРА ДАННЫХ (GOOGLE SHEETS)

### Лист "Пользователи" (одинаковый для всех ботов)

| Telegram ID | Username | Имя | Роль | Отдел | Статус | Дата добавления |
|-------------|----------|-----|------|-------|--------|-----------------|
| 123456789 | @ivanov | Иван Иванов | owner | - | active | 01.01.2026 |
| 234567890 | @petrov | Пётр Петров | manager | Закупки | active | 05.01.2026 |
| 345678901 | @sidorov | Сидор Сидоров | executor | Склад | active | 10.01.2026 |

### Лист "Заявки" (специфичный для каждого бота)

**Общие колонки (первые и последние):**

| A | B | ... | X-2 | X-1 | X |
|---|---|-----|-----|-----|---|
| ID заявки | Дата | ...специфичные поля... | Telegram ID | Username | Статус |

**Пример для PurchaseBot:**

| ID | Дата | Товар | Кол-во | Бюджет | Поставщик | Срок | Telegram ID | Username | Статус |
|----|------|-------|--------|--------|-----------|------|-------------|----------|--------|
| REQ-... | 30.01 | Упаковка | 1000 | 50000 | ООО "Пак" | 05.02 | 123456789 | @ivanov | Создана |

### Лист "Лог событий" (одинаковый для всех ботов)

| Timestamp | User ID | Username | Действие | ID заявки | Детали | Изменения |
|-----------|---------|----------|----------|-----------|--------|-----------|
| 30.01.2026 15:30 | 123456789 | @ivanov | create | REQ-... | Создана заявка | - |
| 30.01.2026 15:45 | 234567890 | @petrov | approve | REQ-... | Согласовано | status: Создана → Согласована |

---

## 🚀 ЭТАПЫ ВНЕДРЕНИЯ

```
ЭТАП 1: ФУНДАМЕНТ (1-2 недели)
├─ ✅ FinanceBot (уже работает)
├─ 📚 Utils-библиотека
├─ 🏗️ Шаблон нового бота
└─ 📖 Документация

ЭТАП 2: КРИТИЧЕСКИЕ ПРОЦЕССЫ (2-4 недели)
├─ 🛒 PurchaseBot (закупки)
├─ 📦 InventoryBot (склад)
└─ 🔗 Интеграция Purchase → Finance

ЭТАП 3: ОПЕРАЦИОННАЯ ЭФФЕКТИВНОСТЬ (4-8 недель)
├─ 🎨 ContentBot
├─ 🛍️ BuyoutBot
├─ ✅ TaskBot
└─ 🔗 Интеграции

ЭТАП 4: МАСШТАБИРОВАНИЕ (8-12 недель)
├─ 📢 AdsBot
├─ ❌ WriteOffBot
├─ 👥 HiringBot
└─ 🔗 Единый дашборд

ЭТАП 5: АНАЛИТИКА И ОПТИМИЗАЦИЯ (12-16 недель)
├─ 🆘 SupportBot
├─ 📊 ReportsBot
├─ 📈 Метрики и KPI
└─ 🤖 Автоматизация рутины
```

---

## 💡 КЛЮЧЕВЫЕ ИНСАЙТЫ

### ✅ Что работает (из опыта FinanceBot)

1. **Telegram как интерфейс** — мгновенно, удобно, все уже используют
2. **Google Sheets как БД** — прозрачно, легко смотреть/править
3. **Ролевая модель** — каждый видит только своё
4. **Audit trail** — все действия логируются
5. **Простота деплоя** — systemd + VPS, перезапуск за 30 секунд

### ❌ Чего избегать

1. **Не перегружать интерфейс** — максимум 5-7 кнопок в меню
2. **Не делать сложные формы** — лучше 3 простых шага, чем 1 сложный
3. **Не забывать про мобильные** — люди работают с телефона
4. **Не игнорировать обратную связь** — pilot-тест обязателен
5. **Не делать всё сразу** — запускать по 1-2 бота, проверять

### 🎯 Фокус на пользователе

- **Менеджеру нужно:** создать заявку за 30 секунд
- **Исполнителю нужно:** увидеть, что нужно сделать
- **Owner нужно:** видеть общую картину

---

**ИТОГО:** 11 процессов → 11 ботов → Единая экосистема
**Срок:** 4-5 месяцев поэтапного внедрения
**Результат:** Порядок вместо хаоса, контроль вместо импровизации

---

*Готов начать? Смотри: `QUICK_START_UNIFIED_SYSTEMS.md`*

# Система для медицинских документов (на основе паттерна FinanceBot)

**Дата восстановления:** 06.02.2026
**Источники:** Задачи.md, КАРТА_ПОЛНОГО_ДЕЛЕГИРОВАНИЯ.md, планы на 31.01–06.02, 20_CASES_FOR_FINANCEBOT_PATTERN.md, QUICK_START_UNIFIED_SYSTEMS.md

---

## 1. Что уже было сформулировано в репозитории

### 1.1. Система управления здоровьем в Cursor (Задачи.md, §67)

**Контекст:** Здоровье — операция (16 февраля 2026), подготовка и контроль после.

**Задача:** Создать систему управления здоровьем в Cursor:

- **Подгружается к Google Диску** — связь с твоими файлами/документами.
- **Собирает всю инфо** — единое место для медицинской информации.
- **Отслеживает показатели здоровья** — метрики, динамика.
- **Напоминает про анализы и приём врачей** — напоминания и план визитов.

**Смежные пункты до операции:**

- Сдать анализы (уточнить список).
- Лор + проктолог — решить после операции.

---

### 1.2. Папка для медицинских данных с автораспознаванием (КАРТА_ПОЛНОГО_ДЕЛЕГИРОВАНИЯ, планы)

**Формулировка задачи:**
Сделать папку для медицинских данных и лечения с **автораспознаванием текста** (Google Vision или прогон через GPT).

**Кому делегировать:** Технический специалист или AI (Cursor).

**Как реализовать:**

- **Папка на Google Drive** — единое хранилище медицинских файлов (фото, сканы, PDF).
- **Автоматическое распознавание текста** с фото/сканов:
  - Google Vision API, или
  - прогон через GPT (например, vision-модель для изображений).
- **Структурирование через GPT** — из распознанного текста выделять сущности (дата, врач, диагноз, назначения, анализы и т.д.).
- **Сохранение** — структурированные данные куда-то сохранять (таблица, база, документ).
- Идея: один раз настроить скрипт/пайплайн — дальше работает автоматически при добавлении файлов в папку.

**Где фигурирует:** КАРТА_ПОЛНОГО_ДЕЛЕГИРОВАНИЯ.md (строка 107), План на 31.01.2026, План на 02.02.2026.

---

### 1.3. Здоровье как отдельный документ (План на 06.02.2026)

Идея: создать документ (Google или Cursor) с **текущим состоянием и планами** по направлениям, чтобы идти по плану и улучшать по мере возможности.

**Направления для блоков в документе:**

- Нос — текущее состояние и план
- Спина, грыжа — текущее состояние и план
- Аллергия — текущее состояние и план
- Колени — текущее состояние и план
- Геморрой — текущее состояние и план
- Зубы / стоматология
- Родинка — провериться
- Витамин D и общие анализы

Плюс в планах: гастроэнтероскопия, Инвитро (доп. анализ для анализа желудка), дата сдачи анализов, дата операции в календаре.

---

### 1.4. Автоматизация рутины (КАРТА_ПОЛНОГО_ДЕЛЕГИРОВАНИЯ)

В списке автоматизируемой рутины указано:

- **Медицинская папка (скрипт)** — в одном ряду с мониторингом чатов (боты-уведомления) и календарём (ведёт Асель).

---

## 2. Паттерн FinanceBot (как база для медицинской системы)

Из репозитория (QUICK_START_UNIFIED_SYSTEMS.md, 20_CASES_FOR_FINANCEBOT_PATTERN.md, UNIFIED_BUSINESS_PROCESSES_ARCHITECTURE.md):

**Паттерн:** единая точка входа → таблица (или структурированное хранилище) → автоконтроль → прозрачность.

**Типичная архитектура:**

- **Telegram Bot** — точка входа (создание «заявок», запросы, напоминания).
- **Google Sheets** (или аналог) — база: пользователи, основной лист сущностей, лог событий (audit trail).
- **Роли** — разграничение прав (владелец, менеджер, исполнитель и т.д.).
- **Lifecycle** — статусы сущностей (создана → в работе → выполнено / отменено).

Для медицинской системы по тому же паттерну:

- **Вместо «заявки на выплату»** — «медицинский документ / запись» или «напоминание (анализы, приём)».
- **Вместо «одобрение/оплата»** — «добавлен документ», «запланирован приём», «анализы сданы», «результаты загружены».
- Точка входа: Telegram (удобно с телефона отправлять фото документов, голосовые) или веб/скрипт.
- Хранение: Google Sheets (или таблица в Cursor-проекте) + Google Drive для файлов.
- Дополнительно: OCR + GPT для автозаполнения полей из фото/сканов (как в п. 1.2).

---

## 3. Сводное ТЗ: система медицинских документов на основе FinanceBot

Ниже — восстановленная и собранная в одно целое картина. Отдельного «чата», где это было записано, в репозитории нет; формулировки взяты из перечисленных файлов и обобщены.

### Цель

Личная система для медицинских документов и управления здоровьем, построенная по паттерну FinanceBot: один вход (Telegram/бот или скрипт) → структурированное хранилище (таблица + Drive) → автораспознавание документов → напоминания и план (анализы, приёмы).

### Функции

1. **Хранение медицинских документов**
   - Одна папка Google Drive для всех медицинских файлов (фото, сканы, PDF).
   - При добавлении файла — автоматическое распознавание текста (Google Vision или GPT) и структурирование (дата, тип документа, врач, диагноз, назначения, анализы и т.д.).
   - Сохранение метаданных и структурированных полей в таблицу (Google Sheets или аналог) для поиска и отчётов.

2. **Система управления здоровьем (как в Задачи.md §67)**
   - Подключение к Google Диску (те же файлы/папки).
   - Сбор всей медицинской информации в одном месте (таблица + при необходимости документ «состояние и планы»).
   - Отслеживание показателей здоровья (если задаёшь метрики — можно вести простой учёт в таблице).
   - Напоминания про анализы и приёмы врачей (календарь или бот).

3. **Точка входа по паттерну FinanceBot**
   - Telegram-бот: отправка фото/документов, голосовые, команды («добавить приём», «напомнить про анализы», «что по спине»).
   - Или скрипт в Cursor: загрузка из папки Drive → OCR → GPT → запись в таблицу; напоминания через календарь/бот.

4. **Роли (по аналогии с FinanceBot)**
   - Владелец (ты): полный доступ, настройка напоминаний, просмотр всего.
   - При необходимости: ограниченный доступ для помощника (например, только добавление документов и напоминаний от твоего имени).

### Технологии (из формулировок в репо)

- **Хранение:** Google Drive (файлы) + Google Sheets (структурированные данные, лог).
- **OCR / извлечение текста:** Google Vision API или прогон через GPT (в т.ч. vision).
- **Структурирование:** GPT по распознанному тексту.
- **Интерфейс:** Telegram Bot API и/или скрипты в Cursor (например, Python), при желании — VPS для бота (как FinanceBot).

### Этапы (предложенный порядок)

1. **Папка Drive + автораспознавание**
   - Настроить папку для медицинских документов.
   - Скрипт: новый файл в папке → OCR (Vision или GPT) → GPT для полей → запись строки в Google Sheets (дата, тип, врач, ключевые поля, ссылка на файл).

2. **Таблица «Медицинские документы / записи»**
   - Лист в Google Sheets (или отдельная таблица): ID, дата документа, тип (анализы, выписка, рецепт, снимок и т.д.), врач/клиника, краткое описание, ссылка на файл в Drive, дата добавления.

3. **Напоминания**
   - Лист «План: анализы и приёмы» (дата, что сделать, статус).
   - Напоминания: через календарь (Асель/помощник) или через Telegram-бота (как в FinanceBot — уведомления и простые команды).

4. **Telegram-бот (по паттерну FinanceBot)**
   - Команды: добавить документ (фото), запланировать приём/анализы, спросить «что по [теме]» (поиск по таблице или по документу «состояние и планы»).
   - Опционально: интеграция с тем же Google Sheets и Drive.

5. **Документ «Здоровье: состояние и планы»**
   - Один документ (Google или Cursor) с блоками по направлениям из Плана на 06.02 (нос, спина, аллергия, колени, геморрой, зубы, родинка, витамин D и общие анализы). Можно вести вручную или частично подтягивать из таблицы/напоминаний.

---

## 4. Где что лежало в репозитории (источники)

| Что | Файл |
|-----|------|
| Система управления здоровьем в Cursor (Google Диск, сбор инфо, показатели, напоминания) | `Work/Задачи/Задачи.md` §67 |
| Папка для медицинских данных с OCR (Drive → Vision/GPT → структурирование) | `Work/Задачи/КАРТА_ПОЛНОГО_ДЕЛЕГИРОВАНИЯ.md` (стр. 107), планы 31.01, 02.02 |
| Медицинская папка в списке автоматизации рутины | `Work/Задачи/КАРТА_ПОЛНОГО_ДЕЛЕГИРОВАНИЯ.md` (стр. 220) |
| Здоровье — отдельный документ, блоки по направлениям | `Work/Задачи/План на 06.02.2026.md` (раздел «Здоровье») |
| Паттерн FinanceBot и быстрый старт новых ботов | `Work/QUICK_START_UNIFIED_SYSTEMS.md`, `Work/20_CASES_FOR_FINANCEBOT_PATTERN.md` |
| Структура FinanceBot (таблицы, роли, lifecycle) | `Projects/FinanceBot/README.md`, `Projects/FinanceBot/docs/` |

---

## 5. Про «чат», где ты давал запрос

Отдельного файла с формулировкой «медицинская система на основе FinanceBot» из прошлого чата в репозитории нет. Доступа к истории чатов Cursor у агента нет, поэтому **конкретный чат указать невозможно**.

Восстановлено всё, что есть в репо: задачи из Задачи.md, КАРТА_ПОЛНОГО_ДЕЛЕГИРОВАНИЯ, планы на 31.01–06.02 и описание паттерна FinanceBot. Если в том чате были ещё детали (например, точные поля таблицы или сценарии бота), их можно добавить в этот документ или в отдельное ТЗ и дальше реализовывать по этапам выше.

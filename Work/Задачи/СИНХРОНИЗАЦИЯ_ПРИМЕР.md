# Примеры синхронизации задач Cursor ↔ ClickUp

Примеры формата хранения задач с полной синхронизацией контекста, комментариев и истории.

---

## Пример 1: Задача в Задачи.md с полным контекстом

```markdown
### 18. Серверы Сергею

**ClickUp ID:** `86c7wggan`
**Статус:** ✅ Перевезены (26.01)

**Дедлайн:** 25.01.2026
**Приоритет:** Высокий

**Контекст:**
Серверы нужно передать Сергею для установки и настройки. После настройки определить место установки.

**Новые подзадачи:**
- [ ] Придумать место установки серверов (после настройки Сергеем)
- [ ] Передать деньги Сергею за оплату кабелей
- [ ] Найти софт/формат кошелька на серверах
- [ ] Узнать когда были созданы первые монеты

**Примечания (из ClickUp):**
- 28.01.2026 14:30: Сергей подтвердил получение серверов, всё в порядке
- 27.01.2026 10:15: Отправлены документы на перевозку через Главтрассу
- 26.01.2026 16:45: Серверы загружены в машину, отправка завтра

**История изменений:**
- 26.01.2026: Статус изменён на "Перевезены" (в ClickUp)
- 25.01.2026: Добавлена подзадача "Передать деньги за кабели" (в ClickUp)
- 24.01.2026: Задача создана (локально и в ClickUp)

**Когда:** Завтра или сегодня
```

---

## Пример 2: Задача в плане на день

```markdown
## Активные задачи

1. **Доработать бота креаторов** [→1] → передать Диме HR
   **ClickUp ID:** `86c7wgeqf`
   **Статус:** В работе

   **Примечания:**
   - 28.01.2026 11:00: Начал работу над формулами
   - 27.01.2026 15:30: Обсудил требования с Димой HR

2. **2FA на Google** — включить для разработчика (он создаст таблицу)
   **ClickUp ID:** `86c7wge4x`
   **Статус:** Ожидание
```

---

## Пример 3: Задача с делегированием и комментариями

```markdown
### 4. Согласовать доставку с Главтрассой

**ClickUp ID:** `86c7wgfx2`
**Статус:** ✅ ЗАКРЫТО (26.01 - оплачено)

**Делегировать Асель:** Задать вопрос Главтрассе

**Текст запроса:**
> "Если мы везём 70 кубов нашего товара и он приезжает на Южные ворота - как нам сделать так чтобы товар сразу же перегрузили с машины доставки на их машину и они сразу повезли груз полностью к нам на склад в Питере?"

**Цель:** Организовать прямую перегрузку без промежуточных остановок

**Примечания (из ClickUp):**
- 28.01.2026 09:00: Асель получила ответ от Главтрассы - перегрузка возможна
- 27.01.2026 14:20: Асель отправила запрос в Главтрассу
- 26.01.2026 18:00: Задача делегирована Асель

**История изменений:**
- 26.01.2026: Задача создана и делегирована Асель
- 26.01.2026: Статус изменён на "ЗАКРЫТО" после оплаты
```

---

## Пример 4: Сложная задача с подзадачами и историей

```markdown
### 19. Найти бухгалтера для ДБЗ/Наташи + создать систему бухучёта

**ClickUp ID:** `86c7wggk8`
**Статус:** В процессе
**Важность:** ⚡ КРИТИЧНО (одна из самых важных задач)

**Проблема:** Сам не вывожу и не хочу заниматься, но это важно

**ЧАСТЬ 1: Найти бухгалтера через Бух Uber**
- Делегировать Наташе: дать доступ к Бух Uber
- Скинуть ей описание запроса
- Она отправит запрос → получит отклики
- Договоримся с бухгалтерами на совместную консультацию
- Созвонимся с кем-то → сделаем план работы

**ЧАСТЬ 2: Передача дел**
- Запросить у текущего бухгалтера все базы (проверить документы и расчёты)
- Создать аккаунт в 1С (чтобы не восстанавливать заново бухгалтерию которую уже восстанавливали несколько раз)

**ЧАСТЬ 3: Создать СИСТЕМУ для всех магазинов**
- По образцу Наташи придумать стандарт для ВСЕХ магазинов
- Стандартные формы, даты, ответственные
- Чтобы не было проблем и заморочек
- Назначить ответственных за ведение/общение с бухгалтером

**Подзадачи (ClickUp):**
- [ ] `86c7wggk9` - Дать доступ Наташе к Бух Uber
- [ ] `86c7wggka` - Подготовить описание запроса для бухгалтера
- [ ] `86c7wggkb` - Провести консультацию с бухгалтерами

**Примечания (из ClickUp):**
- 28.01.2026 16:00: Наташа получила доступ к Бух Uber, начала поиск
- 27.01.2026 12:30: Обсудили требования к бухгалтеру с Наташей
- 26.01.2026 10:15: Задача создана, назначена приоритет "Критично"

**История изменений:**
- 28.01.2026: Добавлена подзадача "Дать доступ Наташе к Бух Uber"
- 27.01.2026: Обновлено описание задачи после обсуждения с Наташей
- 26.01.2026: Задача создана
```

---

## Как это работает

### При добавлении комментария в ClickUp:

1. Пользователь добавляет комментарий в ClickUp к задаче с ID `86c7wggan`
2. AI получает комментарии через `clickup_get_task_comments` с `task_id: 86c7wggan`
3. AI находит задачу в локальном файле по `ClickUp ID: 86c7wggan`
4. AI добавляет комментарий в раздел "Примечания" с датой и временем
5. Локальный файл обновлён

### При изменении статуса в ClickUp:

1. Пользователь меняет статус задачи в ClickUp на "ЗАКРЫТО"
2. AI получает задачу через `clickup_get_task` с `task_id`
3. AI находит задачу в локальном файле по `ClickUp ID`
4. AI обновляет статус: `**Статус:** ✅ ЗАКРЫТО (28.01.2026)`
5. AI добавляет запись в "История изменений"
6. Локальный файл обновлён

### При добавлении задачи локально:

1. Пользователь добавляет задачу в `План на ДД.ММ.ГГГГ.md`
2. AI создаёт задачу в ClickUp через `clickup_create_task` с правильным `list_id`
3. AI получает `task_id` из ответа
4. AI добавляет в локальный файл: `**ClickUp ID:** \`task_id\``
5. Задача синхронизирована

---

## Автоматическая синхронизация при начале сессии

AI предлагает:

```
"Проверить изменения в ClickUp за последние 24 часа и синхронизировать с локальными файлами?"
```

Если пользователь согласен, AI:
1. Получает задачи из всех списков ClickUp
2. Сравнивает с локальными файлами по `ClickUp ID` или названию
3. Находит изменения:
   - Новые комментарии → добавляет в "Примечания"
   - Изменённые статусы → обновляет статус и добавляет в "История"
   - Новые задачи → добавляет в локальный файл с `ClickUp ID`
   - Закрытые задачи → обновляет статус на "✅ ЗАКРЫТО"
4. Показывает отчёт: "✅ Синхронизировано: X комментариев, Y статусов, Z новых задач"

---

*Примеры для справки при синхронизации задач между Cursor и ClickUp.*

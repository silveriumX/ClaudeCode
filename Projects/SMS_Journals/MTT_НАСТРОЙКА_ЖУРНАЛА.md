# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∂—É—Ä–Ω–∞–ª–∞ –°–ú–° –ú–¢–¢ (—Ç–∞–±–ª–∏—Ü–∞ –í–ë + –û–∑–æ–Ω)

## –ö–∞–∫–æ–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

–í —Ç–∞–±–ª–∏—Ü–µ [–ñ—É—Ä–Ω–∞–ª –°–ú–° –ú–¢–¢ Exolva –í–ë + –û–∑–æ–Ω](https://docs.google.com/spreadsheets/d/1p1zJo9MqRPilO9KBvM9ZAnZOtHettQwUxtI6EmTgvgI/edit) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç **mtt_sms_enhanced** (—Ñ–∞–π–ª `–ú–¢–¢ –í–ë+–û–ó–û–ù` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏): –º–µ–Ω—é —Å –ø—É–Ω–∫—Ç–∞–º–∏ ¬´DEBUG: –î–µ—Ç–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞¬ª, ¬´–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞¬ª, ¬´–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ API¬ª, –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω.

## –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ API (30.01.2026)

- **GetNumbers** —Å –≤–∞—à–∏–º —Ç–æ–∫–µ–Ω–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **0 –Ω–æ–º–µ—Ä–æ–≤** (–±–µ–∑ `customer_name` –≤ –∑–∞–ø—Ä–æ—Å–µ).
- **GetMessagesHistoryList** —Å `customer_name: "110028140"` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **HTTP 200** –∏ —Å–ø–∏—Å–æ–∫ SMS —Å –ø–æ–ª—è–º–∏ `text`, `event_date`, `number`, `sender` –∏ —Ç.–¥.

**–í—ã–≤–æ–¥: –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ú–¢–¢ ‚Äî API –æ—Ç–≤–µ—á–∞–µ—Ç –∏ –æ—Ç–¥–∞—ë—Ç –∏—Å—Ç–æ—Ä–∏—é SMS. –ü—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏–ª–∏ –ª–æ–≥–∏–∫–µ —Å–∫—Ä–∏–ø—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ.**

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ

1. **Script Properties (–†–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Üí Apps Script ‚Üí Project Settings ‚Üí Script Properties)**
   –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   - `MSAPI_TOKEN` ‚Äî –≤–∞—à Bearer-—Ç–æ–∫–µ–Ω.
   - **`CUSTOMER_NAME`** ‚Äî –ª–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç. –î–ª—è –≤–∞—à–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ **`110028140`** (agent_name –∏–∑ JWT). –ë–µ–∑ –Ω–µ–≥–æ ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é¬ª –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É –∏ –∫–æ–¥—ã –Ω–µ –ø–æ–¥—Ç—è–Ω—É—Ç—Å—è.
   - `WEBHOOK_SECRET` ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø–æ webhook.

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏**
   –í —Ç–∞–±–ª–∏—Ü–µ: –º–µ–Ω—é **üì≤ –°–ú–° ‚Üí ‚¨á –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é (–ú–¢–¢)**. –ï—Å–ª–∏ CUSTOMER_NAME –∑–∞–¥–∞–Ω –≤–µ—Ä–Ω–æ, –Ω–æ–≤—ã–µ SMS –∏–∑ API –ø–æ—è–≤—è—Ç—Å—è –≤ –ª–∏—Å—Ç–µ ¬´–ñ—É—Ä–Ω–∞–ª –°–ú–°¬ª.

3. **–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞**
   **üì≤ –°–ú–° ‚Üí ‚è±Ô∏è –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω)** ‚Äî —Ç–æ–≥–¥–∞ –Ω–æ–≤—ã–µ –∫–æ–¥—ã –±—É–¥—É—Ç –ø–æ–¥—Ç—è–≥–∏–≤–∞—Ç—å—Å—è –∏–∑ API –¥–∞–∂–µ –±–µ–∑ webhook.

4. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
   **üì≤ –°–ú–° ‚Üí üî¨ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ API** ‚Äî –ø–æ–∫–∞–∂–µ—Ç, –≤–∏–¥–∏—Ç –ª–∏ —Å–∫—Ä–∏–ø—Ç —Ç–æ–∫–µ–Ω –∏ CUSTOMER_NAME –∏ —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç GetMessagesHistoryList.

## –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ API

–ò–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç (—Ç–æ–∫–µ–Ω –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–æ–¥–µ, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç):

```bash
cd Projects/SMS_Journals
python test_mtt_api.py --token "YOUR_TOKEN" --customer "110028140" --limit 5
```

–£—Å–ø–µ—à–Ω—ã–π –≤—ã–≤–æ–¥: HTTP 200 –∏ —Å–ø–∏—Å–æ–∫ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö SMS ‚Äî –∑–Ω–∞—á–∏—Ç –∑–∞–ø—Ä–æ—Å –¥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –¥–æ—Ö–æ–¥–∏—Ç –∏ –æ—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

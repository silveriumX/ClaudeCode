# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å Finance Bot –Ω–∞ VPS

**–í–µ—Ä—Å–∏—è:** 3.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 30.01.2026
**–ê–≤—Ç–æ—Ä:** System Documentation

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [SSH –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ](#ssh-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-–Ω–∞-—Å–µ—Ä–≤–µ—Ä–µ)
3. [–ü—Ä–æ–±–ª–µ–º—ã —Å –¥—É–±–ª—è–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤](#–ø—Ä–æ–±–ª–µ–º—ã-—Å-–¥—É–±–ª—è–º–∏-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
4. [–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞](#–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π-–∑–∞–ø—É—Å–∫–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–±–æ—Ç–∞)
5. [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—Å—Ç–∞—Ç—É—Å–∞)
6. [–†–∞–±–æ—Ç–∞ —Å –ª–æ–≥–∞–º–∏](#—Ä–∞–±–æ—Ç–∞-—Å-–ª–æ–≥–∞–º–∏)
7. [–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è](#—á–∞—Å—Ç—ã–µ-–æ—à–∏–±–∫–∏-–∏-—Ä–µ—à–µ–Ω–∏—è)
8. [Checklist –¥–µ–ø–ª–æ—è](#checklist-–¥–µ–ø–ª–æ—è)
9. [Checklist –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è](#checklist-–ø—Ä–æ–≤–µ—Ä–∫–∏-–ø–æ—Å–ª–µ-–¥–µ–ø–ª–æ—è)
10. [–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏](#–∫–æ–º–∞–Ω–¥—ã-–¥–ª—è-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏)
11. [–û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π](#–æ—Ç–∫–∞—Ç-–∏–∑–º–µ–Ω–µ–Ω–∏–π)

---

## üîê SSH –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
# –•–æ—Å—Ç –∏ –ø–æ—Ä—Ç - –∏–∑ .env –∏–ª–∏ Scripts/ssh_helper.py
HOST=–≤–∞—à_—Ö–æ—Å—Ç
PORT=22
USER=root
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é

```bash
ssh root@–≤–∞—à_—Ö–æ—Å—Ç
# –ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–∞:
ssh -p 22 root@–≤–∞—à_—Ö–æ—Å—Ç
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```python
from Scripts.ssh_helper import SSHHelper

ssh = SSHHelper()
ssh.connect()
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```
/root/FinanceBot/          # –û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
‚îú‚îÄ‚îÄ bot.py                  # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ sheets.py               # –†–∞–±–æ—Ç–∞ —Å Google Sheets
‚îú‚îÄ‚îÄ handlers/               # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ menu.py
‚îÇ   ‚îú‚îÄ‚îÄ request.py
‚îÇ   ‚îú‚îÄ‚îÄ payment.py
‚îÇ   ‚îî‚îÄ‚îÄ edit_handlers.py
‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îî‚îÄ‚îÄ categories.py
‚îú‚îÄ‚îÄ .env                    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ service_account.json    # Google API –∫–ª—é—á
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ bot.log                 # –õ–æ–≥–∏ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ nohup.out              # –õ–æ–≥–∏ nohup
```

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã —Å –¥—É–±–ª—è–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### –ü—Ä–∏—á–∏–Ω—ã –ø–æ—è–≤–ª–µ–Ω–∏—è –¥—É–±–ª–µ–π

1. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞**
   ```bash
   # –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
   python3 bot.py &  # –°—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
   python3 bot.py &  # –í—Ç–æ—Ä–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
   ```

2. **–û—à–∏–±–∫–∞ –≤ —Å–∫—Ä–∏–ø—Ç–µ –¥–µ–ø–ª–æ—è**
   - –°–∫—Ä–∏–ø—Ç –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
   - –°–∫—Ä–∏–ø—Ç –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å

3. **–ù–µ—Å–∫–æ–ª—å—å–∫–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤/—Å–µ—Å—Å–∏–π**
   - –ó–∞–ø—É—Å–∫ –∏–∑ —Ä–∞–∑–Ω—ã—Ö SSH —Å–µ—Å—Å–∏–π
   - –ó–∞–±—ã–ª–∏ –ø—Ä–æ tmux/screen —Å–µ—Å—Å–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã –æ—Ç –¥—É–±–ª–µ–π

- ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–º–∞–Ω–¥ (2+ –±–æ—Ç–∞ –æ—Ç–≤–µ—á–∞—é—Ç)
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Google Sheets (rate limit)
- ‚ùå –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚ùå –ü—É—Ç–∞–Ω–∏—Ü–∞ –≤ –ª–æ–≥–∞—Ö

### –ö–∞–∫ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –¥—É–±–ª–∏

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞
ps aux | grep bot.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç –ü–†–ê–í–ò–õ–¨–ù–´–ô (1 –ø—Ä–æ—Ü–µ—Å—Å):
# root  12345  0.5  2.1  python3 bot.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô (–¥—É–±–ª–∏):
# root  12345  0.5  2.1  python3 bot.py
# root  12346  0.5  2.1  python3 bot.py  # –î–£–ë–õ–¨!
# root  12347  0.5  2.1  python3 bot.py  # –î–£–ë–õ–¨!
```

### –ö–∞–∫ —É–±–∏—Ç—å –≤—Å–µ –¥—É–±–ª–∏

```bash
# –ú–ï–¢–û–î 1: –£–±–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã bot.py (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
pkill -f "python.*bot.py"

# –ú–ï–¢–û–î 2: –£–±–∏—Ç—å –≤—Å–µ Python –ø—Ä–æ—Ü–µ—Å—Å—ã —Å bot.py –≤ –∫–æ–º–∞–Ω–¥–µ
killall -9 python3 bot.py

# –ú–ï–¢–û–î 3: –£–±–∏—Ç—å –ø–æ PID (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–æ—á–µ—á–Ω–æ)
kill -9 12345 12346 12347

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —É–±–∏—Ç—ã
ps aux | grep bot.py
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ grep –ø—Ä–æ—Ü–µ—Å—Å
```

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞

### –®–ê–ë–õ–û–ù: –ü–æ–ª–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –í–°–ï –ø—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞
pkill -f "python.*bot.py" || pkill -f "python3.*bot.py"

# 2. –ü–æ–¥–æ–∂–¥–∞—Ç—å 3 —Å–µ–∫—É–Ω–¥—ã (–≤–∞–∂–Ω–æ!)
sleep 3

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å—ã —É–±–∏—Ç—ã
ps aux | grep bot.py
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ (–∫—Ä–æ–º–µ grep)

# 4. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –±–æ—Ç–∞
cd /root/FinanceBot/

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –≤ —Ñ–æ–Ω–µ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
nohup python3 bot.py > bot.log 2>&1 &

# 6. –ü–æ–¥–æ–∂–¥–∞—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã
sleep 2

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
ps aux | grep bot.py
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –û–î–ò–ù –ø—Ä–æ—Ü–µ—Å—Å

# 8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -n 50 bot.log
```

### –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (restart_bot.sh)

```bash
#!/bin/bash

echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Finance Bot..."

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
echo "1Ô∏è‚É£ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤..."
pkill -f "python.*bot.py" || pkill -f "python3.*bot.py"
sleep 3

# –ü—Ä–æ–≤–µ—Ä–∫–∞
RUNNING=$(ps aux | grep "bot.py" | grep -v grep | wc -l)
if [ "$RUNNING" -gt 0 ]; then
    echo "‚ö†Ô∏è  –ü—Ä–æ—Ü–µ—Å—Å—ã –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞—é—Ç, –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ..."
    pkill -9 -f "python.*bot.py"
    sleep 2
fi

# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /root/FinanceBot/ || exit 1

# –ó–∞–ø—É—Å–∫
echo "2Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞..."
nohup python3 bot.py > bot.log 2>&1 &
sleep 2

# –ü—Ä–æ–≤–µ—Ä–∫–∞
RUNNING=$(ps aux | grep "bot.py" | grep -v grep | wc -l)
if [ "$RUNNING" -eq 1 ]; then
    echo "‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!"
    ps aux | grep bot.py | grep -v grep
else
    echo "‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞! –ü—Ä–æ—Ü–µ—Å—Å–æ–≤: $RUNNING"
    exit 1
fi

# –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
echo ""
echo "üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏:"
tail -n 30 bot.log
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

```bash
# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (–æ–¥–∏–Ω —Ä–∞–∑)
chmod +x /root/FinanceBot/restart_bot.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
/root/FinanceBot/restart_bot.sh
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
ps aux | grep bot.py | grep -v grep

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# root  12345  0.5  2.1  ... python3 bot.py
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# 1. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep bot.py | grep -v grep | wc -l
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 1

# 2. –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
ps -eo pid,etime,cmd | grep bot.py | grep -v grep
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç PID –∏ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

# 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
top -p $(pgrep -f bot.py)
# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç CPU –∏ RAM

# 4. –û—Ç–∫—Ä—ã—Ç—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
netstat -tulpn | grep python3
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram API
```

### –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞

```bash
#!/bin/bash

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Finance Bot"
echo "================================"

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
COUNT=$(ps aux | grep "bot.py" | grep -v grep | wc -l)
echo "üìä –ü—Ä–æ—Ü–µ—Å—Å–æ–≤ –∑–∞–ø—É—â–µ–Ω–æ: $COUNT"

if [ "$COUNT" -eq 0 ]; then
    echo "‚ùå –ë–æ—Ç –ù–ï –†–ê–ë–û–¢–ê–ï–¢"
    exit 1
elif [ "$COUNT" -eq 1 ]; then
    echo "‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ"

    # –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏
    echo ""
    echo "üìã –î–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞:"
    ps aux | grep bot.py | grep -v grep

    # –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
    echo ""
    echo "‚è±Ô∏è  –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:"
    ps -eo pid,etime,cmd | grep bot.py | grep -v grep

    exit 0
else
    echo "‚ö†Ô∏è  –û–ë–ù–ê–†–£–ñ–ï–ù–´ –î–£–ë–õ–ò! –ü—Ä–æ—Ü–µ—Å—Å–æ–≤: $COUNT"
    echo ""
    echo "üìã –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:"
    ps aux | grep bot.py | grep -v grep
    echo ""
    echo "üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –≤—ã–ø–æ–ª–Ω–∏—Ç–µ pkill -f 'python.*bot.py'"
    exit 2
fi
```

---

## üìú –†–∞–±–æ—Ç–∞ —Å –ª–æ–≥–∞–º–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
tail -n 50 /root/FinanceBot/bot.log

# –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ (real-time)
tail -f /root/FinanceBot/bot.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep -i "error" /root/FinanceBot/bot.log | tail -20

# –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
grep "Telegram ID" /root/FinanceBot/bot.log
```

### –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫

```
2026-01-30 12:00:00 - INFO - –ó–∞–ø—É—Å–∫ Finance Bot...
2026-01-30 12:00:01 - INFO - ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Google Sheets —É—Å–ø–µ—à–Ω–æ
2026-01-30 12:00:02 - INFO - ‚úÖ Finance Bot –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!
```

#### ‚ùå –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google Sheets

```
2026-01-30 12:00:00 - ERROR - ‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google Sheets: ...
2026-01-30 12:00:00 - ERROR - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ service_account.json
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª `service_account.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Google –¢–∞–±–ª–∏—Ü–µ

#### ‚ùå –û—à–∏–±–∫–∏ Telegram API

```
telegram.error.NetworkError: Connection timed out
telegram.error.Conflict: Terminated by other getUpdates request
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **Conflict = –¥—É–±–ª—å –ø—Ä–æ—Ü–µ—Å—Å–∞!** –£–±–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ

#### ‚ùå –û—à–∏–±–∫–∏ Python –º–æ–¥—É–ª–µ–π

```
ModuleNotFoundError: No module named 'telegram'
ImportError: cannot import name 'X' from 'Y'
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /root/FinanceBot/
pip3 install -r requirements.txt --upgrade
```

### –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 1000 —Å—Ç—Ä–æ–∫
tail -n 1000 bot.log > bot.log.tmp && mv bot.log.tmp bot.log

# –ò–ª–∏ –æ—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
> bot.log
```

---

## üêõ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã**

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å /start - –Ω–µ—Ç –æ—Ç–≤–µ—Ç–∞
- –ö–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –î—É–±–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–∫–æ–Ω—Ñ–ª–∏–∫—Ç)
2. –ë–æ—Ç —É–ø–∞–ª (–ø—Ä–æ—Ü–µ—Å—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. –ü—Ä–æ–±–ª–µ–º—ã —Å Telegram API

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep bot.py

# –ï—Å–ª–∏ –¥—É–±–ª–∏ - —É–±–∏—Ç—å –≤—Å–µ
pkill -f "python.*bot.py"
sleep 3

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
cd /root/FinanceBot/
nohup python3 bot.py > bot.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f bot.log
```

### 2. **Google Sheets –æ—à–∏–±–∫–∏**

**–°–∏–º–ø—Ç–æ–º—ã:**
```
gspread.exceptions.APIError: RESOURCE_EXHAUSTED
gspread.exceptions.PermissionDenied
```

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ Google API (60/–º–∏–Ω)
2. –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ

**–†–µ—à–µ–Ω–∏–µ:**
- **RESOURCE_EXHAUSTED:** –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã, —É–º–µ–Ω—å—à–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø—Ä–æ—Å–æ–≤
- **PermissionDenied:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ service account –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ

### 3. **Conflict: Terminated by other getUpdates**

**–°–∏–º–ø—Ç–æ–º—ã:**
```
telegram.error.Conflict: Terminated by other getUpdates request
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- **100% –¥—É–±–ª—å –ø—Ä–æ—Ü–µ—Å—Å–∞!** –î–≤–∞ –±–æ—Ç–∞ –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–∏—Ç—å –í–°–ï –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f "python.*bot.py"
sleep 3

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep bot.py
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –û–î–ò–ù —Ä–∞–∑
cd /root/FinanceBot/
nohup python3 bot.py > bot.log 2>&1 &
```

### 4. **ModuleNotFoundError**

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ModuleNotFoundError: No module named 'telegram'
ModuleNotFoundError: No module named 'gspread'
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /root/FinanceBot/
pip3 install -r requirements.txt
# –∏–ª–∏
pip3 install python-telegram-bot gspread oauth2client python-dotenv
```

### 5. **FileNotFoundError: service_account.json**

**–°–∏–º–ø—Ç–æ–º—ã:**
```
FileNotFoundError: [Errno 2] No such file or directory: 'service_account.json'
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la /root/FinanceBot/service_account.json

# –ï—Å–ª–∏ –Ω–µ—Ç - –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
scp Projects/FinanceBot/service_account.json root@–≤–∞—à_—Ö–æ—Å—Ç:/root/FinanceBot/
```

### 6. **TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω**

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ERROR: TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env —Ñ–∞–π–ª–µ!
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env —Ñ–∞–π–ª
cat /root/FinanceBot/.env

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
# GOOGLE_SHEETS_ID=–≤–∞—à_id

# –ï—Å–ª–∏ –Ω–µ—Ç - —Å–æ–∑–¥–∞—Ç—å/–∏—Å–ø—Ä–∞–≤–∏—Ç—å
nano /root/FinanceBot/.env
```

---

## ‚úÖ Checklist –¥–µ–ø–ª–æ—è

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º (–ª–æ–∫–∞–ª—å–Ω–æ)

- [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [ ] –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] `.env.example` –æ–±–Ω–æ–≤–ª–µ–Ω (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- [ ] `requirements.txt` –æ–±–Ω–æ–≤–ª–µ–Ω (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

### Git –∫–æ–º–º–∏—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git status
git diff

# –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã
git add .

# –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–∏—Ç
git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- –ü—É–Ω–∫—Ç 1
- –ü—É–Ω–∫—Ç 2
- –ü—É–Ω–∫—Ç 3"

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
git push origin main
```

### –î–µ–ø–ª–æ–π –Ω–∞ VPS

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VPS
ssh root@–≤–∞—à_—Ö–æ—Å—Ç

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /root/FinanceBot/

# 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
pkill -f "python.*bot.py"
sleep 3

# 4. –°–¥–µ–ª–∞—Ç—å backup (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
cp bot.py bot.py.backup.$(date +%Y%m%d_%H%M%S)

# 5. –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 6. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
pip3 install -r requirements.txt --upgrade

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env
cat .env
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ –º–µ—Å—Ç–µ

# 8. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
nohup python3 bot.py > bot.log 2>&1 &
sleep 2

# 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep bot.py

# 10. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -n 50 bot.log
```

---

## üîç Checklist –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

- [ ] –ü—Ä–æ—Ü–µ—Å—Å –±–æ—Ç–∞ –∑–∞–ø—É—â–µ–Ω: `ps aux | grep bot.py`
- [ ] –¢–æ–ª—å–∫–æ –û–î–ò–ù –ø—Ä–æ—Ü–µ—Å—Å (–Ω–µ—Ç –¥—É–±–ª–µ–π)
- [ ] –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç > 30 —Å–µ–∫—É–Ω–¥ –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

- [ ] –ù–µ—Ç ERROR –≤ –ª–æ–≥–∞—Ö: `grep -i error bot.log | tail -20`
- [ ] –ï—Å—Ç—å "‚úÖ Finance Bot –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!"
- [ ] –ï—Å—Ç—å "‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Google Sheets —É—Å–ø–µ—à–Ω–æ"

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Telegram

- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/help`
- [ ] –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] **–ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç** (—Ç–æ —á—Ç–æ –∑–∞–¥–µ–ø–ª–æ–∏–ª–∏)

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è "–ú–æ–∏ –∑–∞—è–≤–∫–∏":

- [ ] –ö–Ω–æ–ø–∫–∞ "üìã –ú–æ–∏ –∑–∞—è–≤–∫–∏" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ó–∞—è–≤–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ: `–¥–∞—Ç–∞ ‚Ä¢ —Å—É–º–º–∞ ‚Ä¢ –ø–æ–ª—É—á–∞—Ç–µ–ª—å`
- [ ] –ó–∞—è–≤–∫–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
- [ ] –ï—Å–ª–∏ –∑–∞—è–≤–æ–∫ >10 - –µ—Å—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- [ ] –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç: ‚óÄÔ∏è –ù–∞–∑–∞–¥ / –í–ø–µ—Ä–µ–¥ ‚ñ∂Ô∏è
- [ ] –û—Ç–∫—Ä—ã—Ç–∏–µ –∑–∞—è–≤–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–∞–±–æ—Ç–∞–µ—Ç

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û—Ç–º–µ–Ω–∞ –∑–∞—è–≤–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–ø–ª–∞—Ç–∞ –∑–∞—è–≤–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

---

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
#!/bin/bash

echo "üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê FINANCE BOT"
echo "================================"

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
echo ""
echo "1Ô∏è‚É£ –ü–†–û–¶–ï–°–°:"
COUNT=$(ps aux | grep "bot.py" | grep -v grep | wc -l)
echo "   –ü—Ä–æ—Ü–µ—Å—Å–æ–≤: $COUNT"
if [ "$COUNT" -eq 1 ]; then
    echo "   ‚úÖ –ù–æ—Ä–º–∞"
    ps aux | grep bot.py | grep -v grep
elif [ "$COUNT" -eq 0 ]; then
    echo "   ‚ùå –ë–æ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!"
else
    echo "   ‚ö†Ô∏è  –î–£–ë–õ–ò!"
fi

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
echo ""
echo "2Ô∏è‚É£ –§–ê–ô–õ–´:"
echo "   bot.py: $([ -f /root/FinanceBot/bot.py ] && echo '‚úÖ' || echo '‚ùå')"
echo "   .env: $([ -f /root/FinanceBot/.env ] && echo '‚úÖ' || echo '‚ùå')"
echo "   service_account.json: $([ -f /root/FinanceBot/service_account.json ] && echo '‚úÖ' || echo '‚ùå')"

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
echo ""
echo "3Ô∏è‚É£ –õ–û–ì–ò (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏):"
grep -i "error" /root/FinanceBot/bot.log | tail -5

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo ""
echo "4Ô∏è‚É£ –ó–ê–í–ò–°–ò–ú–û–°–¢–ò:"
pip3 list | grep -E "telegram|gspread|oauth2client|dotenv"

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏
echo ""
echo "5Ô∏è‚É£ –°–ï–¢–¨:"
echo "   –ò–Ω—Ç–µ—Ä–Ω–µ—Ç: $(ping -c 1 8.8.8.8 > /dev/null 2>&1 && echo '‚úÖ' || echo '‚ùå')"
echo "   Telegram API: $(curl -s https://api.telegram.org > /dev/null && echo '‚úÖ' || echo '‚ùå')"

# 6. –†–∞–∑–º–µ—Ä –ª–æ–≥–∞
echo ""
echo "6Ô∏è‚É£ –†–ê–ó–ú–ï–† –õ–û–ì–ê:"
ls -lh /root/FinanceBot/bot.log

echo ""
echo "================================"
```

### –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ diagnose.sh

```bash
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª
nano /root/FinanceBot/diagnose.sh

# –í—Å—Ç–∞–≤–∏—Ç—å –∫–æ–¥ –≤—ã—à–µ

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x /root/FinanceBot/diagnose.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
/root/FinanceBot/diagnose.sh
```

---

## üîÑ –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
pkill -f "python.*bot.py"
sleep 3

# 2. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∫–æ–º–º–∏—Ç—É
cd /root/FinanceBot/
git log --oneline -5  # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é
git reset --hard HEAD~1  # –û—Ç–∫–∞—Ç–∏—Ç—å –Ω–∞ 1 –∫–æ–º–º–∏—Ç –Ω–∞–∑–∞–¥

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
nohup python3 bot.py > bot.log 2>&1 &

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
tail -f bot.log
```

### –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–∏—Ç

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ö–µ—à–∏ –∫–æ–º–º–∏—Ç–æ–≤
git log --oneline -10

# –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–∏—Ç
git reset --hard abc1234  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π —Ö–µ—à
```

### –û—Ç–∫–∞—Ç —á–µ—Ä–µ–∑ backup —Ñ–∞–π–ª

```bash
# –ï—Å–ª–∏ –¥–µ–ª–∞–ª–∏ backup –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
cd /root/FinanceBot/
cp bot.py bot.py.broken  # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ–º–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
cp bot.py.backup.20260130_120000 bot.py  # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å backup

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pkill -f "python.*bot.py"
sleep 3
nohup python3 bot.py > bot.log 2>&1 &
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
ps aux | grep bot.py

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pkill -f "python.*bot.py" && sleep 3 && cd /root/FinanceBot && nohup python3 bot.py > bot.log 2>&1 &

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
tail -n 50 /root/FinanceBot/bot.log

# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
/root/FinanceBot/diagnose.sh
```

### –§–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- `docs/SERVER_OPERATIONS_GUIDE.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª
- `docs/BACKLOG.md` - –ë—É–¥—É—â–∏–µ —Ñ–∏—á–∏
- `README.md` - –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `CHANGELOG_V3.0.md` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –í–∞–∂–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–í—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–æ–≤–æ–≥–æ**
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ (30-60 —Å–µ–∫—É–Ω–¥)**
3. **–û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å = –æ–¥–∏–Ω –±–æ—Ç**
4. **–î–µ–ª–∞–π—Ç–µ backup –ø–µ—Ä–µ–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏**
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º**

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è:

```bash
#!/bin/bash
# deploy.sh

cd /root/FinanceBot/
pkill -f "python.*bot.py"
sleep 3
git pull origin main
nohup python3 bot.py > bot.log 2>&1 &
sleep 2
ps aux | grep bot.py
tail -n 30 bot.log
```

–¢–æ–≥–¥–∞ –¥–µ–ø–ª–æ–π = –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞:
```bash
/root/FinanceBot/deploy.sh
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 30.01.2026
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0

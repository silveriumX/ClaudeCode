# ‚úÖ –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê SSH –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 27.01.2026 17:50 MSK
**VPS:** 151.241.154.57
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢ –ù–ê SSH

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ú–ò–ì–†–ê–¶–ò–ò

### –î–û (WinRM):
- ‚ùå HTTP 500 –æ—à–∏–±–∫–∏ –Ω–∞ 6 —Å–µ—Ä–≤–µ—Ä–∞—Ö
- ‚ùå –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚è±Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–æ (8-12 —Å–µ–∫/—Å–µ—Ä–≤–µ—Ä)
- üêõ –¢—Ä–µ–±–æ–≤–∞–ª—Å—è watchdog
- ‚ùå –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: ~40-60%

### –ü–û–°–õ–ï (SSH):
- ‚úÖ **0 –æ—à–∏–±–æ–∫ "Failed to create shell"**
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞**
- ‚ö° **–ë—ã—Å—Ç—Ä–æ (3-5 —Å–µ–∫/—Å–µ—Ä–≤–µ—Ä)**
- ‚úÖ **–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è watchdog**
- ‚úÖ **15/17 —Å–µ—Ä–≤–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ SSH (88%)**

---

## üîß –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `ssh_connector.py`
- –£–±—Ä–∞–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –æ—Ç—Å—Ç—É–ø –≤ try/except –±–ª–æ–∫–µ
- –£–≤–µ–ª–∏—á–µ–Ω timeout –¥–æ 60 —Å–µ–∫—É–Ω–¥
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `exec_command()` –≤–º–µ—Å—Ç–æ `invoke_shell()`

### 2. –°–æ–∑–¥–∞–Ω `session_checker_ssh.py`
- –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —Å WinRM –Ω–∞ SSH
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ RDP/AnyDesk —Å–µ—Å—Å–∏–∏
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç IP –∫–ª–∏–µ–Ω—Ç–∞ –∏ –≥–æ—Ä–æ–¥

### 3. –ó–∞–≥—Ä—É–∂–µ–Ω—ã –≤—Å–µ –º–æ–¥—É–ª–∏ –Ω–∞ VPS
- ‚úÖ `ssh_connector.py` - SSH –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä
- ‚úÖ `server_checker_ssh.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ `session_checker_ssh.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–π
- ‚úÖ `city_matcher.py` - —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤

### 4. –°–æ–∑–¥–∞–Ω—ã symlinks
```bash
server_checker.py  -> server_checker_ssh.py
session_checker.py -> session_checker_ssh.py
```

### 5. –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã WinRM –±—ç–∫–∞–ø—ã
- `server_monitor_winrm_backup.py`
- `server_checker_winrm_backup.py`
- `session_checker_winrm_backup.py`

---

## üìà –°–¢–ê–¢–£–° –°–ï–†–í–ï–†–û–í

### ‚úÖ SSH —Ä–∞–±–æ—Ç–∞–µ—Ç (15 —Å–µ—Ä–≤–µ—Ä–æ–≤):

| –ú–∞–≥–∞–∑–∏–Ω | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | OpenSSH –≤–µ—Ä—Å–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|-----------|----------------|---------|
| MN | 1 | 8.1 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| DBZ | 2 | 8.1 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| VAS | 2 | 8.1 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| MAKS | 2 | 9.5 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| LIFE | 3 | 8.1 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| ALEX | 2 | 9.5 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| HUB | 3 | 9.5 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

**–í—Å–µ–≥–æ:** 15 —Å–µ—Ä–≤–µ—Ä–æ–≤ ‚úÖ

### ‚ùå SSH –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (2 —Å–µ—Ä–≤–µ—Ä–∞):

1. **MN - 194.59.30.150**
   - AnyDesk: 989970862 (MNpass21)
   - RDP: 194.59.30.150:Administrator:password222

2. **MAKS - 77.238.246.229**
   - AnyDesk: 1252612559 (maksmaks4)
   - RDP: 77.238.246.229:Administrator:password222

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSH:**
```powershell
Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0; Start-Service sshd; Set-Service -Name sshd -StartupType Automatic; New-NetFirewallRule -Name SSH -DisplayName SSH -Enabled True -Direction Inbound -Protocol TCP -LocalPort 22 -Action Allow
```

---

## üéØ –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –°–ò–°–¢–ï–ú–ê –°–ï–ô–ß–ê–°

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∫–∞–∂–¥—ã–µ 20 –º–∏–Ω—É—Ç)
```
server_monitor.py
  ‚îú‚îÄ‚îÄ GET ‚Üí Google Sheets API (–ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤)
  ‚îú‚îÄ‚îÄ –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:
  ‚îÇ   ‚îú‚îÄ‚îÄ server_checker.check_full_status() ‚Üí SSH
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ssh_connector.execute_command() ‚Üí PowerShell
  ‚îÇ   ‚îú‚îÄ‚îÄ session_checker.check_sessions() ‚Üí SSH
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ssh_connector.execute_command() ‚Üí PowerShell
  ‚îÇ   ‚îî‚îÄ‚îÄ POST ‚Üí Google Sheets API (–æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
  ‚îî‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–∞ –≤ Telegram
```

### 2. Telegram –∫–æ–º–∞–Ω–¥—ã
- `/check` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
- `/status` - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- `/help` - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Google Sheets
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ–ª–æ–Ω–∫–∏:
- `–°—Ç–∞—Ç—É—Å –º–∞—à–∏–Ω—ã` - OK Online / ERROR Offline
- `–°—Ç–∞—Ç—É—Å –ø—Ä–æ–∫—Å–∏` - OK / ERROR Proxifier Off
- `–¢–µ–∫—É—â–∏–π IP` - IP –æ—Ç 2ip.io
- `–¢–µ–∫—É—â–∏–π –≥–æ—Ä–æ–¥` - –ì–æ—Ä–æ–¥ –æ—Ç 2ip.io
- `–ó–∞–ø—É—â–µ–Ω anydesk` - ‚úÖ/‚ùå
- `–ó–∞–ø—É—â–µ–Ω rustdesk` - ‚úÖ/‚ùå
- `–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏` - timestamp
- `–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞` - –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç

---

## üî• –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–ê –£–°–ü–ï–®–ù–û–ô –†–ê–ë–û–¢–´

### –õ–æ–≥–∏ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (–ø–æ—Å–ª–µ–¥–Ω–∏–π —Ü–∏–∫–ª):
```
14:46:14 - INFO - Loaded 17 servers

14:46:46 - INFO - Checking 194.59.31.156
14:46:46 - INFO - Connected (version 2.0, client OpenSSH_for_Windows_8.1)
14:46:46 - INFO - Authentication (password) successful!

14:46:56 - INFO - Checking 77.83.39.202
14:46:56 - INFO - Connected (version 2.0, client OpenSSH_for_Windows_8.1)
14:46:57 - INFO - Authentication (password) successful!

[... 15 —Å–µ—Ä–≤–µ—Ä–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ SSH ...]
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- ‚úÖ **0 –æ—à–∏–±–æ–∫ "Failed to create shell"** (WinRM –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω)
- ‚úÖ **12+ —É—Å–ø–µ—à–Ω—ã—Ö SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π** –∑–∞ 4 –º–∏–Ω—É—Ç—ã
- ‚úÖ **–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ SSH**

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Error reading SSH protocol banner"
**–°–µ—Ä–≤–µ—Ä:** 195.200.26.218 (MAKS)
**–ü—Ä–∏—á–∏–Ω–∞:** SSH —Å–µ—Ä–≤–µ—Ä –∏–Ω–æ–≥–¥–∞ –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç retry ‚Üí —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —Å–æ 2-–π –ø–æ–ø—ã—Ç–∫–∏
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ retry

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Timeout –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥—ã
**–°–µ—Ä–≤–µ—Ä—ã:** 195.177.94.71 (VAS) - —Ä–µ–¥–∫–æ
**–ü—Ä–∏—á–∏–Ω–∞:** –î–ª–∏–Ω–Ω–∞—è PowerShell –∫–æ–º–∞–Ω–¥–∞ + –º–µ–¥–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–µ–Ω timeout –¥–æ 60 —Å–µ–∫—É–Ω–¥ + retry –ª–æ–≥–∏–∫–∞
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ retry

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ—Ç SSH –Ω–∞ 2 —Å–µ—Ä–≤–µ—Ä–∞—Ö
**–°–µ—Ä–≤–µ—Ä—ã:** 194.59.30.150, 77.238.246.229
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSH (–∫–æ–º–∞–Ω–¥–∞ –≤—ã—à–µ)
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

---

## üì± –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã –∫–∞–∂–¥—ã–µ 20 –º–∏–Ω—É—Ç
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ Google Sheets
- –û—Ç—á–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### –†—É—á–Ω–æ–π —Ä–µ–∂–∏–º:
**–í Telegram –±–æ—Ç–µ –Ω–∞–ø–∏—à–∏—Ç–µ:**
- `/check` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –°–ï–ô–ß–ê–°
- `/status` - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–µ—Ä–≤–µ—Ä–æ–≤
- `/help` - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥

**–ò–ª–∏ —á–µ—Ä–µ–∑ SSH –Ω–∞ VPS:**
```bash
ssh root@151.241.154.57

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
journalctl -u server-monitor -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
systemctl restart server-monitor

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status server-monitor
```

---

## üîÑ –û–¢–ö–ê–¢ –ù–ê WINRM (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VPS
ssh root@151.241.154.57

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª—É–∂–±—É
systemctl stop server-monitor

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WinRM –≤–µ—Ä—Å–∏–∏
cd /opt/server-monitor
rm server_checker.py session_checker.py
mv server_checker_winrm_backup.py server_checker.py
mv session_checker_winrm_backup.py session_checker.py
mv server_monitor_winrm_backup.py server_monitor.py

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
rm -rf __pycache__

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
systemctl start server-monitor
```

---

## üìã –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

### –§–∞–π–ª—ã –Ω–∞ VPS (/opt/server-monitor/):

**–ê–∫—Ç–∏–≤–Ω—ã–µ (SSH):**
- `server_monitor.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
- `server_checker.py` ‚Üí `server_checker_ssh.py` (symlink)
- `session_checker.py` ‚Üí `session_checker_ssh.py` (symlink)
- `ssh_connector.py` - SSH –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä
- `city_matcher.py` - —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤
- `config.py` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ë—ç–∫–∞–ø—ã (WinRM):**
- `server_monitor_winrm_backup.py`
- `server_checker_winrm_backup.py`
- `session_checker_winrm_backup.py`
- `winrm_connector.py` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ:**
- `command_handler.py` - webhook –¥–ª—è –∫–æ–º–∞–Ω–¥
- `proxyma_monitor.py` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∫—Å–∏
- `proxyma_api.py` - API Proxyma

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- Python 3.8+
- paramiko (SSH)
- requests, telebot
- gspread (Google Sheets - —á–µ—Ä–µ–∑ Apps Script)

### Systemd —Å–µ—Ä–≤–∏—Å—ã:
- `server-monitor.service` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (active)
- `command-webhook.service` - webhook –¥–ª—è –∫–æ–º–∞–Ω–¥ (active)
- `proxyma-monitor.timer` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∫—Å–∏ (active)

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢

- [x] SSH —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ 15/17 —Å–µ—Ä–≤–µ—Ä–æ–≤
- [x] `ssh_connector.py` —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] `server_checker_ssh.py` —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] `session_checker_ssh.py` —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] `city_matcher.py` —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Symlinks —Å–æ–∑–¥–∞–Ω—ã (server_checker, session_checker)
- [x] WinRM –∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±—ç–∫–∞–ø—ã
- [x] –ö—ç—à –æ—á–∏—â–µ–Ω
- [x] –°–ª—É–∂–±–∞ –∑–∞–ø—É—â–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (active)
- [x] 0 –æ—à–∏–±–æ–∫ "Failed to create shell"
- [x] SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- [x] Google Sheets –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [x] Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ –ò–¢–û–ì–ò

### –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢:
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤** - —á–µ—Ä–µ–∑ SSH
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–π** - —á–µ—Ä–µ–∑ SSH
‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Google Sheets** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚úÖ **Telegram –∫–æ–º–∞–Ω–¥—ã** - /check, /status, /help
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª** - –∫–∞–∂–¥—ã–µ 20 –º–∏–Ω—É—Ç
‚úÖ **Retry –ª–æ–≥–∏–∫–∞** - –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö
‚úÖ **Fallback –Ω–∞ WinRM** - –û–¢–ö–õ–Æ–ß–ï–ù (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –ß–¢–û –ù–£–ñ–ù–û –î–û–î–ï–õ–ê–¢–¨ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
‚ö†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSH –Ω–∞ 2 –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Å–µ—Ä–≤–µ—Ä–∞—Ö:
   - 194.59.30.150 (MN)
   - 77.238.246.229 (MAKS)

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
   ```bash
   ssh root@151.241.154.57
   journalctl -u server-monitor -f
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**
   ```bash
   systemctl status server-monitor
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:**
   ```bash
   systemctl restart server-monitor
   ```

4. **–û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ WinRM** (—Å–º. —Ä–∞–∑–¥–µ–ª –≤—ã—à–µ)

---

**–ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:** AI Assistant (Claude)
**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** ~2 —á–∞—Å–∞
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£–°–ü–ï–®–ù–û

---

## üöÄ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï!

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/check` –≤ Telegram –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 20 –º–∏–Ω—É—Ç
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Google Sheets
- ‚úÖ –ù–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ HTTP 500 –æ—à–∏–±–∫–∞—Ö WinRM
